#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

void spawn_shell(){
    printf("Spawning Shell \n");
    // Get permissions from suid bit
    setuid(0);
    system("/bin/bash");
    fflush(stdout);
}

  
int addOvf(int* result, int a, int b) 
{ 
    *result = a + b; 
    if(a > 0 && b > 0 && *result < 0) 
        return -1; 
    if(a < 0 && b < 0 && *result > 0) 
        return -1; 
    return 0; 
} 
  
// Driver code
int main() 
{ 
    int result;
    int *res = &result; 
    int x,y; 
    scanf("%d%d", &x, &y);
    int ret = addOvf(res, x, y);
    printf("%d", result); 

    if(ret != 0){
      printf("You have oveflown the data, here is your shell ... ");
      spawn_shell();
    }
    return 0; 
}
